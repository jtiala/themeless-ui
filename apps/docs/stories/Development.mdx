# Development

This is a guide for setting up development environment for working on ThemelessUI.

The project is organized as a monorepo powered by [Turborepo](https://turbo.build/repo) and [pnpm](https://pnpm.io).

## Pre-requisites

- [git](https://git-scm.com)
- [Node.js](https://nodejs.org) (see correct version in `.nvmrc` or use [nvm](https://github.com/nvm-sh/nvm))
- [pnpm](https://pnpm.io)

## Getting started

1. Install dependencies

   ```console
   pnpm install
   ```

2. Start the development environment

   ```console
   pnpm run dev
   ```

3. The following development environments should now be accessible:

   - `apps/docs` at [localhost:3000](http://localhost:3000)
   - `apps/react-example` at [localhost:3001](http://localhost:3001)
   - `apps/nextjs-example` at [localhost:3002](http://localhost:3002)
   - `apps/web-components-example` at [localhost:3003](http://localhost:3003)

## Testing, linting and formatting

Tests, linters and formatters can be run for all the packages by running the next commands in the root directory. The same commands can be also used in the package subdirectories.

```console
pnpm run test
pnpm run lint
pnpm run format
```

Before running tests for the first time, run the following command to prepare your environment for testing.

```console
pnpm run test:prepare
```

Linters and formatters are also run in a pre-commit hook for all the staged files.

## Building

To build all the packages, use the following command.

```console
pnpm run build
```

You can preview all the built apps by running the following command.

```console
pnpm run preview
```

These apps should now be accessible

- `apps/docs` at [localhost:3100](http://localhost:3100)
- `apps/react-example` at [localhost:3101](http://localhost:3101)
- `apps/nextjs-example` at [localhost:3102](http://localhost:3102)

_Note:_ Building is required to use new code from one package in another one locally. For example, if a new component is added in `packages/react`, a build is required to use the component in `apps/docs`.

## Conventional Commits

The project follows the [Conventional Commits](https://www.conventionalcommits.org) specification and it's enforced with [commitlint](https://commitlint.js.org). The commit message format is important, because changelogs and releases are generated automatically using information provided in the messages.
